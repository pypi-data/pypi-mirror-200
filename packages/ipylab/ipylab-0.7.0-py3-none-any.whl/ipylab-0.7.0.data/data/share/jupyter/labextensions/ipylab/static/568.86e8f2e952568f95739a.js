"use strict";(self.webpackChunkipylab=self.webpackChunkipylab||[]).push([[568],{568:(e,s,i)=>{i.r(s),i.d(s,{CommandPaletteModel:()=>l.CommandPaletteModel,CommandRegistryModel:()=>l.CommandRegistryModel,IconModel:()=>l.IconModel,IconView:()=>l.IconView,JupyterFrontEndModel:()=>l.JupyterFrontEndModel,MODULE_NAME:()=>t.o,MODULE_VERSION:()=>t.Y,PanelModel:()=>l.PanelModel,SessionManagerModel:()=>l.SessionManagerModel,ShellModel:()=>l.ShellModel,SplitPanelModel:()=>l.SplitPanelModel,SplitPanelView:()=>l.SplitPanelView,TitleModel:()=>l.TitleModel});var t=i(657),l=i(856)},657:(e,s,i)=>{i.d(s,{Y:()=>l,o:()=>n});const t=i(147),l=t.version,n=t.name},856:(e,s,i)=>{i.r(s),i.d(s,{CommandPaletteModel:()=>r,CommandRegistryModel:()=>m,IconModel:()=>O,IconView:()=>S,JupyterFrontEndModel:()=>u,PanelModel:()=>h,SessionManagerModel:()=>_,ShellModel:()=>b,SplitPanelModel:()=>j,SplitPanelView:()=>x,TitleModel:()=>f});var t,l,n=i(953),o=i(425),a=i(918),d=i(657);class m extends o.WidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:m.model_name,_model_module:m.model_module,_model_module_version:m.model_module_version,_command_list:[],_commands:[]})}initialize(e,s){this._commands=m.commands,super.initialize(e,s),this.on("msg:custom",this._onMessage.bind(this)),this.on("comm_live_update",(()=>{this.comm_live||(t.customCommands.values().forEach((e=>e.dispose())),this._sendCommandList())}));const i=this.get("_commands");Promise.all(i.map((e=>this._addCommand(e)))).then((()=>this._sendCommandList())).catch(console.warn)}async _onMessage(e){switch(e.func){case"execute":this._execute(e.payload);break;case"addCommand":{await this._addCommand(e.payload);const s=this.get("_commands");this.set("_commands",s.concat(e.payload)),this.save_changes();break}case"removeCommand":this._removeCommand(e.payload)}}_sendCommandList(){this._commands.notifyCommandChanged(),this.set("_command_list",this._commands.listCommands()),this.save_changes()}_execute(e){const{id:s,args:i}=e;this._commands.execute(s,i)}async _addCommand(e){var s;const{id:i,caption:l,label:n,iconClass:a,icon:d}=e;this._commands.hasCommand(i)&&t.customCommands.get(i).dispose();let m=null;d&&(m=null===(s=await(0,o.unpack_models)(d,this.widget_manager))||void 0===s?void 0:s.labIcon);const r=e=>!e.isDisposed&&!!this.comm&&this.comm_live,_=this._commands.addCommand(i,{caption:l,label:n,iconClass:a,icon:m,execute:()=>{this.comm_live?this.send({event:"execute",id:i},{}):_.dispose()},isEnabled:()=>r(_),isVisible:()=>r(_)});t.customCommands.set(i,_),this._sendCommandList()}_removeCommand(e){const{id:s}=e;t.customCommands.has(s)&&t.customCommands.get(s).dispose();const i=this.get("_commands").slice();a.ArrayExt.removeAllWhere(i,(e=>e.id===s)),this.set("_commands",i),this.save_changes(),this._sendCommandList()}}m.serializers=Object.assign({},o.WidgetModel.serializers),m.model_name="CommandRegistryModel",m.model_module=d.o,m.model_module_version=d.Y,m.view_name=null,m.view_module=null,m.view_module_version=d.Y,function(e){e.customCommands=new n.ObservableMap}(t||(t={}));class r extends o.WidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:r.model_name,_model_module:r.model_module,_model_module_version:r.model_module_version,_items:[]})}initialize(e,s){this._palette=r.palette,super.initialize(e,s),this.on("msg:custom",this._onMessage.bind(this)),this.get("_items").forEach((e=>this._addItem(e)))}_onMessage(e){switch(e.func){case"addItem":{this._addItem(e.payload);const s=this.get("_items");this.set("_items",s.concat(e.payload)),this.save_changes();break}}}_addItem(e){if(!this._palette)return;const{id:s,category:i,args:t,rank:n}=e,o=`${s}-${i}`;if(l.customItems.has(o))return;const a=this._palette.addItem({command:s,category:i,args:t,rank:n});l.customItems.set(o,a)}}r.serializers=Object.assign({},o.DOMWidgetModel.serializers),r.model_name="CommandPaletteModel",r.model_module=d.o,r.model_module_version=d.Y,r.view_name=null,r.view_module=null,r.view_module_version=d.Y,function(e){e.customItems=new n.ObservableMap}(l||(l={}));class _ extends o.WidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:_.model_name,_model_module:_.model_module,_model_module_version:_.model_module_version,current_session:null,sessions:[]})}initialize(e,s){const{labShell:i,sessions:t,shell:l}=_;this._sessions=t,this._shell=l,this._labShell=i,t.runningChanged.connect(this._sendSessions,this),super.initialize(e,s),this.on("msg:custom",this._onMessage.bind(this)),this._labShell?(this._labShell.currentChanged.connect(this._currentChanged,this),this._labShell.activeChanged.connect(this._currentChanged,this)):this._currentChanged(),this._sendSessions(),this._sendCurrent(),this.send({event:"sessions_initialized"},{})}_onMessage(e){"refreshRunning"===e.func&&this._sessions.refreshRunning().then((()=>{this.send({event:"sessions_refreshed"},{})}))}_getSessionContext(e){var s,i,t;return null!==(t=null===(i=null===(s=null==e?void 0:e.sessionContext)||void 0===s?void 0:s.session)||void 0===i?void 0:i.model)&&void 0!==t?t:{}}_currentChanged(){this._current_session=this._getSessionContext(this._shell.currentWidget),this.set("current_session",this._current_session),this.set("sessions",(0,a.toArray)(this._sessions.running())),this.save_changes()}_sendSessions(){this.set("sessions",(0,a.toArray)(this._sessions.running())),this.save_changes()}_sendCurrent(){this._current_session=this._getSessionContext(this._shell.currentWidget),this.set("current_session",this._current_session),this.save_changes()}}_.serializers=Object.assign({},o.WidgetModel.serializers),_.model_name="SessionManagerModel",_.model_module=d.o,_.model_module_version=d.Y,_.view_name=null,_.view_module=null,_.view_module_version=d.Y;class u extends o.WidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:u.model_name,_model_module:u.model_module,_model_module_version:u.model_module_version})}initialize(e,s){this._app=u.app,super.initialize(e,s),this.send({event:"lab_ready"},{}),this.set("version",this._app.version),this.save_changes()}}u.serializers=Object.assign({},o.DOMWidgetModel.serializers),u.model_name="JupyterFrontEndModel",u.model_module=d.o,u.model_module_version=d.Y,u.view_name=null,u.view_module=null,u.view_module_version=d.Y;var c=i(246);class h extends c.VBoxModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:h.model_name,_model_module:h.model_module,_model_module_version:h.model_module_version})}}h.model_name="PanelModel",h.model_module=d.o,h.model_module_version=d.Y;var g=i(884),p=i(720);class b extends o.WidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:b.model_name,_model_module:b.model_module,_model_module_version:b.model_module_version,_widgets:[]})}initialize(e,s){this._shell=b.shell,this._labShell=b.labShell,super.initialize(e,s),this.on("msg:custom",this._onMessage.bind(this)),this.get("_widgets").forEach((e=>this._add(e)))}async _add(e){const{serializedWidget:s,area:i,args:t,id:l}=e,n=await(0,o.unpack_models)(s,this.widget_manager),d=await this.widget_manager.create_view(n,{}),m=await(0,o.unpack_models)(n.get("title"),this.widget_manager),r=d.luminoWidget;r.id=null!=l?l:g.DOMUtils.createDomID(),p.MessageLoop.installMessageHook(r,((e,s)=>{switch(s.type){case"close-request":{const s=this.get("_widgets").slice();a.ArrayExt.removeAllWhere(s,(s=>s.id===e.id)),this.set("_widgets",s),this.save_changes();break}}return!0}));const _=async()=>{const e=await(0,o.unpack_models)(m.get("icon"),this.widget_manager);r.title.label=m.get("label"),r.title.iconClass=e?null:m.get("icon_class"),r.title.icon=e?e.labIcon:null,r.title.closable=m.get("closable")};if(m.on("change",_),_(),("left"===i||"right"===i)&&this._labShell){let e;e="left"===i?this._labShell._leftHandler:this._labShell._rightHandler,e.sideBar.tabCloseRequested.connect(((e,s)=>{s.title.owner.close()})),r.addClass("jp-SideAreaWidget")}return this._shell.add(r,i,t),r.id}async _onMessage(e){switch(e.func){case"add":{const s=await this._add(e.payload),i=this.get("_widgets");this.set("_widgets",i.concat(Object.assign(Object.assign({},e.payload),{id:s}))),this.save_changes();break}case"expandLeft":this._labShell&&this._labShell.expandLeft();break;case"expandRight":this._labShell&&this._labShell.expandRight()}}}b.serializers=Object.assign({},o.WidgetModel.serializers),b.model_name="ShellModel",b.model_module=d.o,b.model_module_version=d.Y,b.view_name=null,b.view_module=null,b.view_module_version=d.Y;var v=i(431),w=i(755),y=i.n(w);class M extends v.SplitPanel{constructor(e){const s=e.view;delete e.view,super(e),this.addClass("jp-JupyterLuminoSplitPanelWidget"),this._view=s}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}dispose(){this.isDisposed||(super.dispose(),this._view&&this._view.remove(),this._view=null)}}class j extends h{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:j.model_name,_model_module:j.model_module,_model_module_version:j.model_module_version,_view_name:j.model_name,_view_module:j.model_module,_view_module_version:j.model_module_version})}}j.model_name="SplitPanelModel",j.model_module=d.o,j.model_module_version=d.Y,j.view_name="SplitPanelView",j.view_module=d.o,j.view_module_name=d.Y;class x extends c.VBoxView{_createElement(e){return this.luminoWidget=new M({view:this,orientation:this.model.get("orientation")}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=y()(this.luminoWidget.node)}initialize(e){super.initialize(e);const s=this.luminoWidget;this.model.on("change:orientation",(()=>{const e=this.model.get("orientation");s.orientation=e}))}async render(){super.render(),(await Promise.all(this.children_views.views)).forEach((async e=>{this.luminoWidget.addWidget(e.luminoWidget)}))}}class f extends o.WidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:f.model_name,_model_module:f.model_module,_model_module_version:f.model_module_version})}initialize(e,s){super.initialize(e,s),this.on("change:icon",this.iconChanged)}async iconChanged(){const e=await(0,o.unpack_models)(this.get("icon"),this.widget_manager);e&&e.on("change",(()=>this.trigger("change")))}}f.model_name="TitleModel",f.model_module=d.o,f.model_module_version=d.Y,f.view_name=null,f.view_module=null,f.view_module_version=d.Y;var C=i(215);class S extends o.DOMWidgetView{initialize(e){super.initialize(e),this.iconElement=document.createElement("div"),this.el.appendChild(this.iconElement),this.update()}update(){const{labIcon:e}=this.model;e&&e.render(this.iconElement,{props:{tag:"div"}})}}class O extends o.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:O.model_name,_model_module:O.model_module,_model_module_version:O.model_module_version,_view_name:O.view_name,_view_module:O.view_module,_view_module_version:O.view_module_version})}initialize(e,s){super.initialize(e,s),this.on("change:name change:svgstr",this.updateIcon),this.updateIcon()}get labIcon(){return this._labIcon}updateIcon(){const e=this.get("name"),s=this.get("svgstr");this._labIcon&&this._labIcon.name===e||(this._labIcon=new C.LabIcon({name:e,svgstr:s})),this._labIcon.svgstr=s,this.trigger("change")}}O.model_name="IconModel",O.model_module=d.o,O.model_module_version=d.Y,O.view_name="IconView",O.view_module=d.o,O.view_module_version=d.Y},147:e=>{e.exports=JSON.parse('{"name":"ipylab","version":"0.7.0","description":"Control JupyterLab from Python notebooks","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","style/*.css","style/*.js"],"homepage":"https://github.com/jtpio/ipylab","bugs":{"url":"https://github.com/jtpio/ipylab/issues"},"license":"BSD-3-Clause","author":{"name":"ipylab contributors","email":""},"main":"lib/index.js","style":"style/widget.css","styleModule":"style/style.js","types":"./lib/index.d.ts","sideEffects":["style/*.css","style/style.js"],"repository":{"type":"git","url":"https://github.com/jtpio/ipylab"},"scripts":{"build":"jlpm run build:lib && jlpm run build:labextension:dev","build:prod":"jlpm run build:lib && jlpm run build:labextension","build:lib":"tsc","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","clean":"jlpm run clean:lib ipylab/labextension","clean:lib":"rimraf lib tsconfig.tsbuildinfo","clean:all":"jlpm run clean:lib && jlpm run clean:labextension","clean:labextension":"rimraf ipylab/labextension","eslint":"eslint . --ext .ts,.tsx --fix","eslint:check":"eslint . --ext .ts,.tsx","lint":"jlpm && jlpm run prettier && jlpm run eslint","lint:check":"jlpm run prettier:check && jlpm run eslint:check","prepack":"npm run build","prettier":"prettier --write \\"**/*{.ts,.tsx,.js,.jsx,.css,.json,.md}\\" \\"!dist/**\\" \\"!docs/**\\"","prettier:check":"prettier --list-different \\"**/*{.ts,.tsx,.js,.jsx,.css,.json,.md}\\" \\"!dist/**\\" \\"!docs/**\\"","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:labextension":"jupyter labextension watch ."},"husky":{"hooks":{"pre-commit":"lint-staged"}},"lint-staged":{"**/*{.ts,.tsx,.js,.jsx,.css,.json,.md}":["prettier --write","git add"],"**/*{.py}":["black","git add"]},"dependencies":{"@jupyter-widgets/base":"^1 || ^2 || ^3 || ^4 || ^5 || ^6","@jupyter-widgets/controls":"^3 || ^4 || ^5","@jupyterlab/application":"^3.4.5","@jupyterlab/apputils":"^3.4.5","@jupyterlab/observables":"^4.4.5","@lumino/algorithm":"^1.9.2","@lumino/commands":"^1.20.1","@lumino/disposable":"^1.10.2","@lumino/messaging":"^1.10.2","@lumino/widgets":"^1.34.0"},"devDependencies":{"@jupyterlab/builder":"^3.4.5","@types/expect.js":"^0.3.29","@types/node":"^18.7.8","@typescript-eslint/eslint-plugin":"^5.33.1","@typescript-eslint/parser":"^5.33.1","eslint":"^8.22.0","eslint-config-prettier":"^8.5.0","eslint-plugin-jsdoc":"^39.3.6","eslint-plugin-prettier":"^4.2.1","eslint-plugin-react":"^7.30.1","expect.js":"^0.3.1","fs-extra":"^10.1.0","husky":"^8.0.1","lint-staged":"^13.0.3","mkdirp":"^1.0.4","npm-run-all":"^4.1.5","prettier":"^2.7.1","rimraf":"^3.0.2","typescript":"~4.7.4"},"jupyterlab":{"extension":"lib/plugin","outputDir":"ipylab/labextension/","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')}}]);