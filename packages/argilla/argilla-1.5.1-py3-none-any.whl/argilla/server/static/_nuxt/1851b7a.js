(window.webpackJsonp=window.webpackJsonp||[]).push([[109,58],{1283:function(e,t,n){"use strict";n.r(t);n(49),n(42),n(68),n(33),n(69);var r=n(37),o=n(1),c=n(20),d=(n(36),n(50),n(10),n(173),n(60),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(59),n(41),n(35),n(96),n(117),n(83)),l=n(142),h=n(52),f=n(30);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var S={props:{datasetId:{type:Array,required:!0},datasetName:{type:String,required:!0},datasetTask:{type:String,required:!0},enableSimilaritySearch:{type:Boolean,required:!0}},data:function(){return{isSortAsc:!0,sortBy:"order"}},computed:{dataset:function(){return Object(l.a)(this.datasetId,this.datasetTask,!0)},isMultiLabel:function(){return this.dataset.isMultiLabel},labels:function(){return Object(h.b)(this.datasetId,this.sortBy,this.isSortAsc)},listOfTexts:function(){return Object(h.c)(this.datasetId,this.sortBy,this.isSortAsc)}},methods:L(L({},Object(d.b)({updateRecords:"entities/datasets/updateDatasetRecords",discard:"entities/datasets/discardAnnotations",validate:"entities/datasets/validateAnnotations",resetRecords:"entities/datasets/resetRecords"})),{},{onSelectLabels:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,d,l,h,m,S;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.labels,o=e.selectedRecords,c=e.labelsToRemove,d=o.map((function(e){var n,o,d=null!==(n=null===(o=e.currentAnnotation)||void 0===o?void 0:o.labels)&&void 0!==n?n:[],l=t.labelsFactoryBySingleOrMultiLabel(r,c,d);return L(L(L({},e),t.isMultiLabel&&{selected:!0,status:"Edited"}),{},{currentAnnotation:{agent:t.$auth.user.username,labels:l}})})),l="",h=0,m="",n.prev=5,!t.isMultiLabel){n.next=15;break}return S={dataset:t.dataset,agent:t.$auth.user.username,records:d},n.next=10,t.updateRecords(S);case 10:l="".concat(o.length," records are in pending"),h=25,m="info",n.next=17;break;case 15:return n.next=17,t.onValidate(d);case 17:n.next=24;break;case 19:n.prev=19,n.t0=n.catch(5),console.log(n.t0),l="There was a problem on annotate records",m="error";case 24:return n.prev=24,t.isMultiLabel&&f.a.dispatch("notify",{message:l,numberOfChars:h,type:m}),n.finish(24);case 27:case"end":return n.stop()}}),n,null,[[5,19,24,27]])})))()},labelsFactoryBySingleOrMultiLabel:function(e,t,n){return this.isMultiLabel?this.formatLabelsForBulkAnnotation(e,t,n):this.formatLabels(e)},formatLabelsForBulkAnnotation:function(e,t,n){var o,c=this.formatLabels(e),d=Object(r.a)(new Set([].concat(Object(r.a)(c),Object(r.a)(n))));return d=null!=t&&t.length?null===(o=d)||void 0===o?void 0:o.filter((function(e){return!t.includes(e.class)})):d},onDiscard:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.discard({dataset:t.dataset,records:e});case 2:case"end":return n.stop()}}),n)})))()},onValidate:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.filter((function(e){return e.currentAnnotation||e.predicted_as||e.multi_label})),o=r.map((function(e){var n,r=(null===(n=e.currentAnnotation)||void 0===n?void 0:n.labels)||null,o=t.formatLabels(e.predicted_as),c=r||o||[];return L(L({},e),{},{currentAnnotation:null,annotation:{labels:c}})})),n.prev=2,n.next=5,t.validate({dataset:t.dataset,agent:t.$auth.user.username,records:o});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()},onClear:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.map((function(e){return L(L({},e),{},{currentAnnotation:{labels:[]},selected:!0,status:"Edited"})})),t.updateRecords({dataset:t.dataset,records:r});case 2:case"end":return n.stop()}}),n)})))()},onReset:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.map((function(e){return L(L({},e),{},{currentAnnotation:e.annotation})})),t.resetRecords({dataset:t.dataset,records:r});case 2:case"end":return n.stop()}}),n)})))()},searchRecords:function(e){this.$emit("search-records",e)},formatLabels:function(e){return(null==e?void 0:e.map((function(label){return{class:label,score:1}})))||null}})},w=n(14),component=Object(w.a)(S,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"header__filters"},[e.dataset.viewSettings.visibleRulesList?e._e():t("filters-area",{attrs:{dataset:e.dataset,datasetId:e.datasetId,datasetName:e.datasetName,datasetTask:e.datasetTask,enableSimilaritySearch:e.enableSimilaritySearch},on:{"search-records":e.searchRecords}}),e._v(" "),t("global-actions",{attrs:{datasetId:e.datasetId,datasetName:e.datasetName,datasetTask:e.datasetTask,datasetVisibleRecords:e.dataset.visibleRecords,availableLabels:e.listOfTexts,isMultiLabel:e.isMultiLabel},on:{"discard-records":e.onDiscard,"validate-records":e.onValidate,"clear-records":e.onClear,"reset-records":e.onReset,"on-select-labels":function(t){return e.onSelectLabels(t)}}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{FiltersArea:n(1106).default,GlobalActions:n(996).default})},921:function(e,t,n){var content=n(984);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(58).default)("cdf618ce",content,!0,{sourceMap:!1})},983:function(e,t,n){"use strict";n(921)},984:function(e,t,n){var r=n(57),o=n(65),c=n(66),d=n(67),l=r((function(i){return i[1]})),h=o(c),f=o(d);l.push([e.i,'/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */@font-face{font-family:"raptor_v2_premiumbold";font-style:normal;font-weight:400;src:url('+h+') format("woff2"),url('+f+') format("woff")}/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */.container[data-v-3c8e1f83]{margin:0 auto;padding:4em;padding-right:126px;transition:padding .25s linear .2s}@media(min-width:1101px){.--metrics .container[data-v-3c8e1f83]{padding-right:375px;transition:padding .25s linear}}.container[data-v-3c8e1f83]{margin:0 auto auto 0;padding-bottom:0;padding-left:4em;padding-top:0}.global-actions[data-v-3c8e1f83]{align-items:center;background:#fff;border-radius:10px;box-shadow:0 1px 2px 0 hsla(0,0%,73%,.5);display:flex;min-height:40px;padding:4px 16px;position:relative;text-align:left;width:100%}',""]),l.locals={},e.exports=l},996:function(e,t,n){"use strict";n.r(t);var r=n(141),o={props:{datasetId:{type:Array,required:!0},datasetName:{type:String,required:!0},datasetTask:{type:String,required:!0},datasetVisibleRecords:{type:Array,required:!0},availableLabels:{type:Array,default:function(){return[]}},isMultiLabel:{type:Boolean,default:!1}},computed:{viewSettings:function(){return Object(r.c)(this.datasetName)},annotationEnabled:function(){return"annotate"===this.viewSettings.viewMode},paginationSizeIsOne:function(){return 1===this.viewSettings.pagination.size},showGlobalActions:function(){return this.annotationEnabled&&!this.paginationSizeIsOne}},methods:{onValidate:function(e){this.$emit("validate-records",e)},onDiscard:function(e){this.$emit("discard-records",e)},onClear:function(e){this.$emit("clear-records",e)},onReset:function(e){this.$emit("reset-records",e)},onSelectLabels:function(e){this.$emit("on-select-labels",e)}}},c=(n(983),n(14)),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return e.showGlobalActions?t("div",{staticClass:"container"},[t("div",{staticClass:"global-actions"},[t("validate-discard-action",{attrs:{datasetId:e.datasetId,datasetTask:e.datasetTask,visibleRecords:e.datasetVisibleRecords,availableLabels:e.availableLabels,isMultiLabel:e.isMultiLabel},on:{"discard-records":e.onDiscard,"validate-records":e.onValidate,"clear-records":e.onClear,"reset-records":e.onReset,"on-select-labels":function(t){return e.onSelectLabels(t)}}})],1)]):e._e()}),[],!1,null,"3c8e1f83",null);t.default=component.exports;installComponents(component,{ValidateDiscardAction:n(1049).default})}}]);