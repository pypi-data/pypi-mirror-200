(window.webpackJsonp=window.webpackJsonp||[]).push([[105,41],{1226:function(e,t,n){"use strict";n.r(t);n(52),n(45),n(62),n(32),n(63);var r=n(1),o=n(23),c=n(54),l=(n(29),n(44),n(76),n(59),n(12),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(58),n(53),n(42),n(106),n(107),n(108)),d=n(747),h=n(35);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var L={props:{datasetId:{type:Array,required:!0},datasetName:{type:String,required:!0},datasetTask:{type:String,required:!0},enableSimilaritySearch:{type:Boolean,required:!0}},computed:{dataset:function(){return Object(d.a)(this.datasetId,this.datasetTask,!0)},isMultiLabel:function(){return this.dataset.isMultiLabel},availableLabels:function(){var e=this.dataset.results.records[0],t=e&&e.prediction?e.prediction.labels.map((function(label){return label.class})):[];return t=Array.from(new Set([].concat(Object(c.a)(t),Object(c.a)(this.dataset.labels))))},allowLabelCreation:function(){return!this.dataset.settings.label_schema}},methods:m(m({},Object(l.b)({updateRecords:"entities/datasets/updateDatasetRecords",discard:"entities/datasets/discardAnnotations",validate:"entities/datasets/validateAnnotations",resetRecords:"entities/datasets/resetRecords"})),{},{onSelectLabels:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c,l,d,f,L,w;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.labels,o=e.selectedRecords,c=e.labelsToRemove,l=o.map((function(e){var n,o,l=null!==(n=null===(o=e.currentAnnotation)||void 0===o?void 0:o.labels)&&void 0!==n?n:[],d=t.labelsFactoryBySingleOrMultiLabel(r,c,l);return m(m(m({},e),t.isMultiLabel&&{selected:!0,status:"Edited"}),{},{currentAnnotation:{agent:t.$auth.user.username,labels:d}})})),d="",f=0,L="",n.prev=5,!t.isMultiLabel){n.next=15;break}return w={dataset:t.dataset,agent:t.$auth.user.username,records:l},n.next=10,t.updateRecords(w);case 10:d="".concat(o.length," records are in pending"),f=25,L="info",n.next=17;break;case 15:return n.next=17,t.onValidate(l);case 17:n.next=24;break;case 19:n.prev=19,n.t0=n.catch(5),console.log(n.t0),d="There was a problem on annotate records",L="error";case 24:return n.prev=24,t.isMultiLabel&&h.a.dispatch("notify",{message:d,numberOfChars:f,type:L}),n.finish(24);case 27:case"end":return n.stop()}}),n,null,[[5,19,24,27]])})))()},labelsFactoryBySingleOrMultiLabel:function(e,t,n){return this.isMultiLabel?this.formatLabelsForBulkAnnotation(e,t,n):this.formatLabels(e)},formatLabelsForBulkAnnotation:function(e,t,n){var r,o=this.formatLabels(e),l=Object(c.a)(new Set([].concat(Object(c.a)(o),Object(c.a)(n))));return l=null!=t&&t.length?null===(r=l)||void 0===r?void 0:r.filter((function(e){return!t.includes(e.class)})):l},onDiscard:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.discard({dataset:t.dataset,records:e});case 2:case"end":return n.stop()}}),n)})))()},onValidate:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.filter((function(e){return e.currentAnnotation||e.predicted_as||e.multi_label})),o=r.map((function(e){var n,r=(null===(n=e.currentAnnotation)||void 0===n?void 0:n.labels)||null,o=t.formatLabels(e.predicted_as),c=r||o||[];return m(m({},e),{},{currentAnnotation:null,annotation:{labels:c}})})),n.prev=2,n.next=5,t.validate({dataset:t.dataset,agent:t.$auth.user.username,records:o});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()},onClear:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.map((function(e){return m(m({},e),{},{currentAnnotation:{labels:[]},selected:!0,status:"Edited"})})),t.updateRecords({dataset:t.dataset,records:r});case 2:case"end":return n.stop()}}),n)})))()},onReset:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.map((function(e){return m(m({},e),{},{currentAnnotation:e.annotation})})),t.resetRecords({dataset:t.dataset,records:r});case 2:case"end":return n.stop()}}),n)})))()},onNewLabel:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.dataset.$dispatch("setLabels",{dataset:t.dataset,labels:Object(c.a)(new Set([].concat(Object(c.a)(t.dataset.labels),[e])))});case 2:case"end":return n.stop()}}),n)})))()},searchRecords:function(e){this.$emit("search-records",e)},formatLabels:function(e){return(null==e?void 0:e.map((function(label){return{class:label,score:1}})))||null}})},w=n(41),component=Object(w.a)(L,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"header__filters"},[e.dataset.viewSettings.visibleRulesList?e._e():t("filters-area",{attrs:{dataset:e.dataset,datasetId:e.datasetId,datasetName:e.datasetName,datasetTask:e.datasetTask,enableSimilaritySearch:e.enableSimilaritySearch},on:{"search-records":e.searchRecords}}),e._v(" "),t("global-actions",{attrs:{datasetId:e.datasetId,datasetName:e.datasetName,datasetTask:e.datasetTask,datasetVisibleRecords:e.dataset.visibleRecords,availableLabels:e.availableLabels,isCreationLabel:e.allowLabelCreation,isMultiLabel:e.isMultiLabel},on:{"discard-records":e.onDiscard,"validate-records":e.onValidate,"clear-records":e.onClear,"reset-records":e.onReset,"on-select-labels":function(t){return e.onSelectLabels(t)},"new-label":e.onNewLabel}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{FiltersArea:n(1063).default,GlobalActions:n(964).default})},836:function(e,t,n){var content=n(918);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(105).default)("38c76118",content,!0,{sourceMap:!1})},886:function(e,t,n){var content=n(953);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(105).default)("f1d3aa2c",content,!0,{sourceMap:!1})},917:function(e,t,n){"use strict";n(836)},918:function(e,t,n){var r=n(104),o=n(133),c=n(134),l=n(135),d=r((function(i){return i[1]})),h=o(c),f=o(l);d.push([e.i,'/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */@font-face{font-family:"raptor_v2_premiumbold";font-style:normal;font-weight:400;src:url('+h+') format("woff2"),url('+f+') format("woff")}/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */.new-label[data-v-6027f973]{background:#fff;border-radius:5px;box-shadow:0 8px 20px 0 rgba(0,0,0,.2);padding:16px;position:absolute;text-align:left;top:-1em;width:180px}.new-label__close[data-v-6027f973]{stroke:rgba(0,0,0,.6);stroke-width:1;cursor:pointer;height:12px;position:absolute;right:1em;top:1.2em;width:12px}.new-label__input[data-v-6027f973]{border:0;outline:none;padding-right:2em;width:100%}.new-label__button[data-v-6027f973]{margin-top:2em}.new-label__button[data-v-6027f973],.new-label__main-button[data-v-6027f973]{margin-bottom:0!important}.new-label__container[data-v-6027f973],.new-label__main-button[data-v-6027f973]{margin-left:auto;margin-right:0}.new-label__container[data-v-6027f973]{position:relative;text-align:right;width:180px}',""]),d.locals={},e.exports=d},933:function(e,t,n){"use strict";n.r(t);n(167);var r={props:{text:{type:String,required:!1,default:"Create label"}},data:function(){return{label:void 0,showLabelCreation:!1}},methods:{createNewLabel:function(label){label&&label.trim()&&(this.$emit("new-label",label),this.reset())},openLabelCreation:function(){var e=this;this.showLabelCreation=!0,this.$nextTick((function(){e.$refs.labelCreation.focus()}))},reset:function(){this.label=void 0,this.showLabelCreation=!1}}},o=(n(917),n(41)),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"new-label__container"},[e.showLabelCreation?t("div",{staticClass:"new-label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"label"}],ref:"labelCreation",staticClass:"new-label__input",attrs:{autofocus:"",type:"text",placeholder:"New label"},domProps:{value:e.label},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createNewLabel(e.label)},input:function(t){t.target.composing||(e.label=t.target.value)}}}),e._v(" "),t("svgicon",{staticClass:"new-label__close",attrs:{name:"close"},on:{click:function(t){return e.reset()}}}),e._v(" "),t("base-button",{staticClass:"new-label__button primary small",attrs:{disabled:!e.label},on:{click:function(t){return e.createNewLabel(e.label)}}},[e._v("Create")])],1):t("base-button",{staticClass:"new-label__main-button primary light small",on:{click:function(t){return e.openLabelCreation()}}},[e._v(e._s(e.text))])],1)}),[],!1,null,"6027f973",null);t.default=component.exports;installComponents(component,{BaseButton:n(439).default})},952:function(e,t,n){"use strict";n(886)},953:function(e,t,n){var r=n(104),o=n(133),c=n(134),l=n(135),d=r((function(i){return i[1]})),h=o(c),f=o(l);d.push([e.i,'/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */@font-face{font-family:"raptor_v2_premiumbold";font-style:normal;font-weight:400;src:url('+h+') format("woff2"),url('+f+') format("woff")}/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */.container[data-v-27c32636]{margin:0 auto;padding:4em;padding-right:126px;transition:padding .25s linear .2s}@media(min-width:1101px){.--metrics .container[data-v-27c32636]{padding-right:375px;transition:padding .25s linear}}.container[data-v-27c32636]{margin:0 auto auto 0;padding-bottom:0;padding-left:4em;padding-top:0}.global-actions[data-v-27c32636]{align-items:center;background:#fff;border-radius:10px;box-shadow:0 1px 2px 0 hsla(0,0%,73%,.5);display:flex;min-height:40px;padding:4px 16px;position:relative;text-align:left;width:100%}',""]),d.locals={},e.exports=d},964:function(e,t,n){"use strict";n.r(t);var r=n(748),o={props:{datasetId:{type:Array,required:!0},datasetName:{type:String,required:!0},datasetTask:{type:String,required:!0},datasetVisibleRecords:{type:Array,required:!0},isCreationLabel:{type:Boolean,default:function(){return!1}},availableLabels:{type:Array,default:function(){return[]}},isMultiLabel:{type:Boolean,default:!1}},computed:{viewSettings:function(){return Object(r.b)(this.datasetName)},annotationEnabled:function(){return"annotate"===this.viewSettings.viewMode},paginationSizeIsOne:function(){return 1===this.viewSettings.pagination.size},showGlobalActions:function(){return this.annotationEnabled&&!this.paginationSizeIsOne}},methods:{onValidate:function(e){this.$emit("validate-records",e)},onDiscard:function(e){this.$emit("discard-records",e)},onClear:function(e){this.$emit("clear-records",e)},onReset:function(e){this.$emit("reset-records",e)},onSelectLabels:function(e){this.$emit("on-select-labels",e)},onNewLabel:function(e){this.$emit("new-label",e)}}},c=(n(952),n(41)),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return e.showGlobalActions?t("div",{staticClass:"container"},[t("div",{staticClass:"global-actions"},[t("validate-discard-action",{attrs:{datasetId:e.datasetId,datasetTask:e.datasetTask,visibleRecords:e.datasetVisibleRecords,availableLabels:e.availableLabels,isMultiLabel:e.isMultiLabel},on:{"discard-records":e.onDiscard,"validate-records":e.onValidate,"clear-records":e.onClear,"reset-records":e.onReset,"on-select-labels":function(t){return e.onSelectLabels(t)}}}),e._v(" "),e.isCreationLabel?t("create-new-action",{on:{"new-label":e.onNewLabel}}):e._e()],1)]):e._e()}),[],!1,null,"27c32636",null);t.default=component.exports;installComponents(component,{ValidateDiscardAction:n(1009).default,CreateNewAction:n(933).default})}}]);