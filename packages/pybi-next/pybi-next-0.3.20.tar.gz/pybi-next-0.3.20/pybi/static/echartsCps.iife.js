var echartsCps=function(f,ft){"use strict";function lt(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const pt=lt(ft);var pe;const de=typeof window<"u",dt=e=>typeof e=="string",ht=()=>{};de&&((pe=window==null?void 0:window.navigator)!=null&&pe.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function gt(e){return typeof e=="function"?e():f.unref(e)}function yt(e){return e}function he(e){return f.getCurrentScope()?(f.onScopeDispose(e),!0):!1}function _t(e,t=!0){f.getCurrentInstance()?f.onMounted(e):t?e():f.nextTick(e)}function ge(e){var t;const r=gt(e);return(t=r==null?void 0:r.$el)!=null?t:r}const ye=de?window:void 0;function vt(...e){let t,r,n,a;if(dt(e[0])||Array.isArray(e[0])?([r,n,a]=e,t=ye):[t,r,n,a]=e,!t)return ht;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(l=>l()),i.length=0},s=(l,p,d)=>(l.addEventListener(p,d,a),()=>l.removeEventListener(p,d,a)),u=f.watch(()=>ge(t),l=>{o(),l&&i.push(...r.flatMap(p=>n.map(d=>s(l,p,d))))},{immediate:!0,flush:"post"}),c=()=>{u(),o()};return he(c),c}function bt(e,t=!1){const r=f.ref(),n=()=>r.value=!!e();return n(),_t(n,t),r}const _e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ve="__vueuse_ssr_handlers__";_e[ve]=_e[ve]||{};var be=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,At=(e,t)=>{var r={};for(var n in e)wt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&be)for(var n of be(e))t.indexOf(n)<0&&Ot.call(e,n)&&(r[n]=e[n]);return r};function Tt(e,t,r={}){const n=r,{window:a=ye}=n,i=At(n,["window"]);let o;const s=bt(()=>a&&"ResizeObserver"in a),u=()=>{o&&(o.disconnect(),o=void 0)},c=f.watch(()=>ge(e),p=>{u(),s.value&&a&&p&&(o=new ResizeObserver(t),o.observe(p,i))},{immediate:!0,flush:"post"}),l=()=>{u(),c()};return he(l),{isSupported:s,stop:l}}var we;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(we||(we={}));var mt=Object.defineProperty,Oe=Object.getOwnPropertySymbols,$t=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable,Ae=(e,t,r)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xt=(e,t)=>{for(var r in t||(t={}))$t.call(t,r)&&Ae(e,r,t[r]);if(Oe)for(var r of Oe(t))Pt.call(t,r)&&Ae(e,r,t[r]);return e};xt({linear:yt},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});function W(e,t){return`${e.id}_opt${t}`}var Et=typeof global=="object"&&global&&global.Object===Object&&global;const Te=Et;var It=typeof self=="object"&&self&&self.Object===Object&&self,Ct=Te||It||Function("return this")();const A=Ct;var St=A.Symbol;const P=St;var me=Object.prototype,Ft=me.hasOwnProperty,Dt=me.toString,j=P?P.toStringTag:void 0;function jt(e){var t=Ft.call(e,j),r=e[j];try{e[j]=void 0;var n=!0}catch{}var a=Dt.call(e);return n&&(t?e[j]=r:delete e[j]),a}var Mt=Object.prototype,Rt=Mt.toString;function Nt(e){return Rt.call(e)}var Gt="[object Null]",Lt="[object Undefined]",$e=P?P.toStringTag:void 0;function S(e){return e==null?e===void 0?Lt:Gt:$e&&$e in Object(e)?jt(e):Nt(e)}function F(e){return e!=null&&typeof e=="object"}var Bt="[object Symbol]";function Y(e){return typeof e=="symbol"||F(e)&&S(e)==Bt}function Ut(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var zt=Array.isArray;const O=zt;var Kt=1/0,Pe=P?P.prototype:void 0,xe=Pe?Pe.toString:void 0;function Ee(e){if(typeof e=="string")return e;if(O(e))return Ut(e,Ee)+"";if(Y(e))return xe?xe.call(e):"";var t=e+"";return t=="0"&&1/e==-Kt?"-0":t}function M(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Ht(e){return e}var qt="[object AsyncFunction]",Vt="[object Function]",Qt="[object GeneratorFunction]",Wt="[object Proxy]";function Ie(e){if(!M(e))return!1;var t=S(e);return t==Vt||t==Qt||t==qt||t==Wt}var Yt=A["__core-js_shared__"];const X=Yt;var Ce=function(){var e=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Xt(e){return!!Ce&&Ce in e}var Zt=Function.prototype,Jt=Zt.toString;function x(e){if(e!=null){try{return Jt.call(e)}catch{}try{return e+""}catch{}}return""}var kt=/[\\^$.*+?()[\]{}|]/g,er=/^\[object .+?Constructor\]$/,tr=Function.prototype,rr=Object.prototype,nr=tr.toString,ar=rr.hasOwnProperty,ir=RegExp("^"+nr.call(ar).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function or(e){if(!M(e)||Xt(e))return!1;var t=Ie(e)?ir:er;return t.test(x(e))}function sr(e,t){return e==null?void 0:e[t]}function E(e,t){var r=sr(e,t);return or(r)?r:void 0}var ur=E(A,"WeakMap");const Z=ur;function cr(){}var fr=function(){try{var e=E(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Se=fr;function lr(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function pr(e){return e!==e}function dr(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}function hr(e,t,r){return t===t?dr(e,t,r):lr(e,pr,r)}function gr(e,t){var r=e==null?0:e.length;return!!r&&hr(e,t,0)>-1}var yr=9007199254740991,_r=/^(?:0|[1-9]\d*)$/;function J(e,t){var r=typeof e;return t=t??yr,!!t&&(r=="number"||r!="symbol"&&_r.test(e))&&e>-1&&e%1==0&&e<t}function Fe(e,t,r){t=="__proto__"&&Se?Se(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function k(e,t){return e===t||e!==e&&t!==t}var vr=Object.prototype,br=vr.hasOwnProperty;function wr(e,t,r){var n=e[t];(!(br.call(e,t)&&k(n,r))||r===void 0&&!(t in e))&&Fe(e,t,r)}var Or=9007199254740991;function ee(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Or}function De(e){return e!=null&&ee(e.length)&&!Ie(e)}var Ar=Object.prototype;function Tr(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ar;return e===r}function mr(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var $r="[object Arguments]";function je(e){return F(e)&&S(e)==$r}var Me=Object.prototype,Pr=Me.hasOwnProperty,xr=Me.propertyIsEnumerable,Er=je(function(){return arguments}())?je:function(e){return F(e)&&Pr.call(e,"callee")&&!xr.call(e,"callee")};const Re=Er;function Ir(){return!1}var Ne=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ge=Ne&&typeof module=="object"&&module&&!module.nodeType&&module,Cr=Ge&&Ge.exports===Ne,Le=Cr?A.Buffer:void 0,Sr=Le?Le.isBuffer:void 0,Fr=Sr||Ir;const te=Fr;var Dr="[object Arguments]",jr="[object Array]",Mr="[object Boolean]",Rr="[object Date]",Nr="[object Error]",Gr="[object Function]",Lr="[object Map]",Br="[object Number]",Ur="[object Object]",zr="[object RegExp]",Kr="[object Set]",Hr="[object String]",qr="[object WeakMap]",Vr="[object ArrayBuffer]",Qr="[object DataView]",Wr="[object Float32Array]",Yr="[object Float64Array]",Xr="[object Int8Array]",Zr="[object Int16Array]",Jr="[object Int32Array]",kr="[object Uint8Array]",en="[object Uint8ClampedArray]",tn="[object Uint16Array]",rn="[object Uint32Array]",y={};y[Wr]=y[Yr]=y[Xr]=y[Zr]=y[Jr]=y[kr]=y[en]=y[tn]=y[rn]=!0,y[Dr]=y[jr]=y[Vr]=y[Mr]=y[Qr]=y[Rr]=y[Nr]=y[Gr]=y[Lr]=y[Br]=y[Ur]=y[zr]=y[Kr]=y[Hr]=y[qr]=!1;function nn(e){return F(e)&&ee(e.length)&&!!y[S(e)]}function an(e){return function(t){return e(t)}}var Be=typeof exports=="object"&&exports&&!exports.nodeType&&exports,R=Be&&typeof module=="object"&&module&&!module.nodeType&&module,on=R&&R.exports===Be,re=on&&Te.process,sn=function(){try{var e=R&&R.require&&R.require("util").types;return e||re&&re.binding&&re.binding("util")}catch{}}();const Ue=sn;var ze=Ue&&Ue.isTypedArray,un=ze?an(ze):nn;const Ke=un;var cn=Object.prototype,fn=cn.hasOwnProperty;function ln(e,t){var r=O(e),n=!r&&Re(e),a=!r&&!n&&te(e),i=!r&&!n&&!a&&Ke(e),o=r||n||a||i,s=o?mr(e.length,String):[],u=s.length;for(var c in e)(t||fn.call(e,c))&&!(o&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||J(c,u)))&&s.push(c);return s}function pn(e,t){return function(r){return e(t(r))}}var dn=pn(Object.keys,Object);const hn=dn;var gn=Object.prototype,yn=gn.hasOwnProperty;function _n(e){if(!Tr(e))return hn(e);var t=[];for(var r in Object(e))yn.call(e,r)&&r!="constructor"&&t.push(r);return t}function ne(e){return De(e)?ln(e):_n(e)}var vn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bn=/^\w*$/;function ae(e,t){if(O(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Y(e)?!0:bn.test(e)||!vn.test(e)||t!=null&&e in Object(t)}var wn=E(Object,"create");const N=wn;function On(){this.__data__=N?N(null):{},this.size=0}function An(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Tn="__lodash_hash_undefined__",mn=Object.prototype,$n=mn.hasOwnProperty;function Pn(e){var t=this.__data__;if(N){var r=t[e];return r===Tn?void 0:r}return $n.call(t,e)?t[e]:void 0}var xn=Object.prototype,En=xn.hasOwnProperty;function In(e){var t=this.__data__;return N?t[e]!==void 0:En.call(t,e)}var Cn="__lodash_hash_undefined__";function Sn(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=N&&t===void 0?Cn:t,this}function I(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}I.prototype.clear=On,I.prototype.delete=An,I.prototype.get=Pn,I.prototype.has=In,I.prototype.set=Sn;function Fn(){this.__data__=[],this.size=0}function U(e,t){for(var r=e.length;r--;)if(k(e[r][0],t))return r;return-1}var Dn=Array.prototype,jn=Dn.splice;function Mn(e){var t=this.__data__,r=U(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():jn.call(t,r,1),--this.size,!0}function Rn(e){var t=this.__data__,r=U(t,e);return r<0?void 0:t[r][1]}function Nn(e){return U(this.__data__,e)>-1}function Gn(e,t){var r=this.__data__,n=U(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function T(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}T.prototype.clear=Fn,T.prototype.delete=Mn,T.prototype.get=Rn,T.prototype.has=Nn,T.prototype.set=Gn;var Ln=E(A,"Map");const G=Ln;function Bn(){this.size=0,this.__data__={hash:new I,map:new(G||T),string:new I}}function Un(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function z(e,t){var r=e.__data__;return Un(t)?r[typeof t=="string"?"string":"hash"]:r.map}function zn(e){var t=z(this,e).delete(e);return this.size-=t?1:0,t}function Kn(e){return z(this,e).get(e)}function Hn(e){return z(this,e).has(e)}function qn(e,t){var r=z(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function m(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}m.prototype.clear=Bn,m.prototype.delete=zn,m.prototype.get=Kn,m.prototype.has=Hn,m.prototype.set=qn;var Vn="Expected a function";function ie(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Vn);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(ie.Cache||m),r}ie.Cache=m;var Qn=500;function Wn(e){var t=ie(e,function(n){return r.size===Qn&&r.clear(),n}),r=t.cache;return t}var Yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xn=/\\(\\)?/g,Zn=Wn(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yn,function(r,n,a,i){t.push(a?i.replace(Xn,"$1"):n||r)}),t});const Jn=Zn;function kn(e){return e==null?"":Ee(e)}function oe(e,t){return O(e)?e:ae(e,t)?[e]:Jn(kn(e))}var ea=1/0;function L(e){if(typeof e=="string"||Y(e))return e;var t=e+"";return t=="0"&&1/e==-ea?"-0":t}function He(e,t){t=oe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[L(t[r++])];return r&&r==n?e:void 0}function ta(e,t,r){var n=e==null?void 0:He(e,t);return n===void 0?r:n}function ra(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function na(){this.__data__=new T,this.size=0}function aa(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function ia(e){return this.__data__.get(e)}function oa(e){return this.__data__.has(e)}var sa=200;function ua(e,t){var r=this.__data__;if(r instanceof T){var n=r.__data__;if(!G||n.length<sa-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new m(n)}return r.set(e,t),this.size=r.size,this}function $(e){var t=this.__data__=new T(e);this.size=t.size}$.prototype.clear=na,$.prototype.delete=aa,$.prototype.get=ia,$.prototype.has=oa,$.prototype.set=ua;function ca(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function fa(){return[]}var la=Object.prototype,pa=la.propertyIsEnumerable,qe=Object.getOwnPropertySymbols,da=qe?function(e){return e==null?[]:(e=Object(e),ca(qe(e),function(t){return pa.call(e,t)}))}:fa;const ha=da;function ga(e,t,r){var n=t(e);return O(e)?n:ra(n,r(e))}function Ve(e){return ga(e,ne,ha)}var ya=E(A,"DataView");const se=ya;var _a=E(A,"Promise");const ue=_a;var va=E(A,"Set");const D=va;var Qe="[object Map]",ba="[object Object]",We="[object Promise]",Ye="[object Set]",Xe="[object WeakMap]",Ze="[object DataView]",wa=x(se),Oa=x(G),Aa=x(ue),Ta=x(D),ma=x(Z),C=S;(se&&C(new se(new ArrayBuffer(1)))!=Ze||G&&C(new G)!=Qe||ue&&C(ue.resolve())!=We||D&&C(new D)!=Ye||Z&&C(new Z)!=Xe)&&(C=function(e){var t=S(e),r=t==ba?e.constructor:void 0,n=r?x(r):"";if(n)switch(n){case wa:return Ze;case Oa:return Qe;case Aa:return We;case Ta:return Ye;case ma:return Xe}return t});const Je=C;var $a=A.Uint8Array;const ke=$a;var Pa="__lodash_hash_undefined__";function xa(e){return this.__data__.set(e,Pa),this}function Ea(e){return this.__data__.has(e)}function B(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new m;++t<r;)this.add(e[t])}B.prototype.add=B.prototype.push=xa,B.prototype.has=Ea;function Ia(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function et(e,t){return e.has(t)}var Ca=1,Sa=2;function tt(e,t,r,n,a,i){var o=r&Ca,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=i.get(e),l=i.get(t);if(c&&l)return c==t&&l==e;var p=-1,d=!0,h=r&Sa?new B:void 0;for(i.set(e,t),i.set(t,e);++p<s;){var g=e[p],v=t[p];if(n)var w=o?n(v,g,p,t,e,i):n(g,v,p,e,t,i);if(w!==void 0){if(w)continue;d=!1;break}if(h){if(!Ia(t,function(_,b){if(!et(h,b)&&(g===_||a(g,_,r,n,i)))return h.push(b)})){d=!1;break}}else if(!(g===v||a(g,v,r,n,i))){d=!1;break}}return i.delete(e),i.delete(t),d}function Fa(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}function ce(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Da=1,ja=2,Ma="[object Boolean]",Ra="[object Date]",Na="[object Error]",Ga="[object Map]",La="[object Number]",Ba="[object RegExp]",Ua="[object Set]",za="[object String]",Ka="[object Symbol]",Ha="[object ArrayBuffer]",qa="[object DataView]",rt=P?P.prototype:void 0,fe=rt?rt.valueOf:void 0;function Va(e,t,r,n,a,i,o){switch(r){case qa:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ha:return!(e.byteLength!=t.byteLength||!i(new ke(e),new ke(t)));case Ma:case Ra:case La:return k(+e,+t);case Na:return e.name==t.name&&e.message==t.message;case Ba:case za:return e==t+"";case Ga:var s=Fa;case Ua:var u=n&Da;if(s||(s=ce),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;n|=ja,o.set(e,t);var l=tt(s(e),s(t),n,a,i,o);return o.delete(e),l;case Ka:if(fe)return fe.call(e)==fe.call(t)}return!1}var Qa=1,Wa=Object.prototype,Ya=Wa.hasOwnProperty;function Xa(e,t,r,n,a,i){var o=r&Qa,s=Ve(e),u=s.length,c=Ve(t),l=c.length;if(u!=l&&!o)return!1;for(var p=u;p--;){var d=s[p];if(!(o?d in t:Ya.call(t,d)))return!1}var h=i.get(e),g=i.get(t);if(h&&g)return h==t&&g==e;var v=!0;i.set(e,t),i.set(t,e);for(var w=o;++p<u;){d=s[p];var _=e[d],b=t[d];if(n)var q=o?n(b,_,d,t,e,i):n(_,b,d,e,t,i);if(!(q===void 0?_===b||a(_,b,r,n,i):q)){v=!1;break}w||(w=d=="constructor")}if(v&&!w){var V=e.constructor,Q=t.constructor;V!=Q&&"constructor"in e&&"constructor"in t&&!(typeof V=="function"&&V instanceof V&&typeof Q=="function"&&Q instanceof Q)&&(v=!1)}return i.delete(e),i.delete(t),v}var Za=1,nt="[object Arguments]",at="[object Array]",K="[object Object]",Ja=Object.prototype,it=Ja.hasOwnProperty;function ka(e,t,r,n,a,i){var o=O(e),s=O(t),u=o?at:Je(e),c=s?at:Je(t);u=u==nt?K:u,c=c==nt?K:c;var l=u==K,p=c==K,d=u==c;if(d&&te(e)){if(!te(t))return!1;o=!0,l=!1}if(d&&!l)return i||(i=new $),o||Ke(e)?tt(e,t,r,n,a,i):Va(e,t,u,r,n,a,i);if(!(r&Za)){var h=l&&it.call(e,"__wrapped__"),g=p&&it.call(t,"__wrapped__");if(h||g){var v=h?e.value():e,w=g?t.value():t;return i||(i=new $),a(v,w,r,n,i)}}return d?(i||(i=new $),Xa(e,t,r,n,a,i)):!1}function le(e,t,r,n,a){return e===t?!0:e==null||t==null||!F(e)&&!F(t)?e!==e&&t!==t:ka(e,t,r,n,le,a)}var ei=1,ti=2;function ri(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var u=s[0],c=e[u],l=s[1];if(o&&s[2]){if(c===void 0&&!(u in e))return!1}else{var p=new $;if(n)var d=n(c,l,u,e,t,p);if(!(d===void 0?le(l,c,ei|ti,n,p):d))return!1}}return!0}function ot(e){return e===e&&!M(e)}function ni(e){for(var t=ne(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,ot(a)]}return t}function st(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function ai(e){var t=ni(e);return t.length==1&&t[0][2]?st(t[0][0],t[0][1]):function(r){return r===e||ri(r,e,t)}}function ii(e,t){return e!=null&&t in Object(e)}function oi(e,t,r){t=oe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=L(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&ee(a)&&J(o,a)&&(O(e)||Re(e)))}function si(e,t){return e!=null&&oi(e,t,ii)}var ui=1,ci=2;function fi(e,t){return ae(e)&&ot(t)?st(L(e),t):function(r){var n=ta(r,e);return n===void 0&&n===t?si(r,e):le(t,n,ui|ci)}}function li(e){return function(t){return t==null?void 0:t[e]}}function pi(e){return function(t){return He(t,e)}}function di(e){return ae(e)?li(L(e)):pi(e)}function hi(e){return typeof e=="function"?e:e==null?Ht:typeof e=="object"?O(e)?fi(e[0],e[1]):ai(e):di(e)}function gi(e,t,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;){var o=e[a];t(n,o,r(o),e)}return n}function yi(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var u=o[e?s:++a];if(r(i[u],u,i)===!1)break}return t}}var _i=yi();const vi=_i;function bi(e,t){return e&&vi(e,t,ne)}function wi(e,t){return function(r,n){if(r==null)return r;if(!De(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Oi=wi(bi);const Ai=Oi;function Ti(e,t,r,n){return Ai(e,function(a,i,o){t(n,a,r(a),o)}),n}function mi(e,t){return function(r,n){var a=O(r)?gi:Ti,i=t?t():{};return a(r,e,hi(n),i)}}function $i(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Pi=Object.prototype,xi=Pi.hasOwnProperty,Ei=mi(function(e,t,r){xi.call(e,r)?e[r].push(t):Fe(e,r,[t])});const Ii=Ei;function Ci(e,t,r,n){if(!M(e))return e;t=oe(t,e);for(var a=-1,i=t.length,o=i-1,s=e;s!=null&&++a<i;){var u=L(t[a]),c=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(a!=o){var l=s[u];c=n?n(l,u,s):void 0,c===void 0&&(c=M(l)?l:J(t[a+1])?[]:{})}wr(s,u,c),s=s[u]}return e}function H(e,t,r){return e==null?e:Ci(e,t,r)}var Si=1/0,Fi=D&&1/ce(new D([,-0]))[1]==Si?function(e){return new D(e)}:cr;const Di=Fi;var ji=200;function Mi(e,t,r){var n=-1,a=gr,i=e.length,o=!0,s=[],u=s;if(r)o=!1,a=$i;else if(i>=ji){var c=t?null:Di(e);if(c)return ce(c);o=!1,a=et,u=new B}else u=t?[]:s;e:for(;++n<i;){var l=e[n],p=t?t(l):l;if(l=r||l!==0?l:0,o&&p===p){for(var d=u.length;d--;)if(u[d]===p)continue e;t&&u.push(p),s.push(l)}else a(u,p,r)||(u!==s&&u.push(p),s.push(l))}return s}function Ri(e){return e&&e.length?Mi(e):[]}const Ni={uniq:Ri,groupBy:Ii};function Gi(e,t){const r=new Function("utils","rows","fields",e??"");function n(a){switch(t){case"udf":if(e!==null)return r(Ni,a.rows,a.fields);break;case"infer":default:return a.inferData()}}return{map:n}}function Li(e,t,r,n,a){const i=n.db.parse2sqlValueBaseFieldType(a.table,a.field,e),o=W(t,r);n.dataset.addFilter(o,a.table,`${a.field}=${i}`)}function Bi(){return function(){let e=null;const t=()=>e;function r(n){e=n}return{setValue:r,value:t}}()}function Ui(e){const t=e.getOption();t.series.forEach((r,n)=>{}),e.setOption(t,!0)}function zi(e,t){const r=e.getOption();r.series.forEach((n,a)=>{n.data.forEach(i=>{typeof i=="object"&&(i.groupId=t.value)})}),e.setOption(r,!0)}function Ki(e,t){e.series.forEach((r,n)=>{r.dataGroupId=t.value(),r.data.forEach(a=>{typeof a=="object"&&delete a.groupId})})}function Hi(e,t,r,n,a,i){let o=null;return e.updateInfos.forEach(s=>{s.actionType===t&&(o=r(s),Li(o,n,a,i,s))}),o}function qi(e){return e.updateInfos.some(t=>t.actionType==="click")}function Vi(e,t){Ki(e,t)}function Qi(e,t){if(t.valueType==="x"||t.valueType==="y")return e.name;if(t.valueType==="color")return e.seriesName;throw new Error(`bar chart not support value type : ${t.valueType}`)}function Wi(e,t){if(t.valueType==="x"||t.valueType==="y")return e.name;if(t.valueType==="color")return e.seriesName;throw new Error(`line chart not support value type : ${t.valueType}`)}function Yi(e,t){if(t.valueType==="name")return e.name;throw new Error(`pie chart not support value type : ${t.valueType}`)}function Xi(e,t){if(t.valueType==="x")return e.data[0];if(t.valueType==="y")return e.data[1];if(t.valueType==="color")return e.seriesName;throw new Error(`scatter chart not support value type : ${t.valueType}`)}const ut=new Map([["bar",Qi],["line",Wi],["pie",Yi],["scatter",Xi]]);function ct(e,t){const r=e.seriesType;if(ut.has(r))return ut.get(r)(e,t);throw new Error(`ParamValueGetter not support chart type:[${r}]`)}function Zi(e,t){if(t.seriesHasData()){const r=t.series.data[0];r.length>0&&(typeof r[0]=="string"&&e.setProps(`xAxis[${t.getXAxisIndex()}].type`,"category"),typeof r[1]=="string"&&e.setProps(`yAxis[${t.getYAxisIndex()}].type`,"category"))}}function Ji(e){"xAxis"in e&&!Array.isArray(e.xAxis)&&(e.xAxis=[e.xAxis]),"yAxis"in e&&!Array.isArray(e.yAxis)&&(e.yAxis=[e.yAxis]),e.xAxis,e.yAxis;function t(a,i){H(e,a,i)}function r(a,i,o){t(`series[${a}].${i}`,o)}function n(a){if(a>=e.series.length)return!1;const i=e.series[a];return"data"in i&&i.data.length>0}return{options:e,setProps:t,setSeriesProps:r,seriesHasData:n}}function ki(e){function t(i,o){H(e,i,o)}function r(){return"data"in e&&e.data.length>0}function n(){return"xAxisIndex"in e?e.xAxisIndex:0}function a(){return"yAxisIndex"in e?e.yAxisIndex:0}return{series:e,setProps:t,seriesHasData:r,getXAxisIndex:n,getYAxisIndex:a}}function eo(e){for(const t of e.series){if(!("type"in t))continue;const r=Ji(e),n=ki(t);switch(t.type){case"line":break;case"bar":break;case"pie":break;case"scatter":Zi(r,n);break}}}function to(e){return new Function(`f= ${e};return f `)()}function ro(e,t,r,n){const a=e.chartInfos[t],i=a.options,o=Bi(),s=qi(a);a.jsCodes.forEach(h=>{const g=to(h.code);H(i,h.path,g)});function u(){switch(a.datasetInfos.forEach(h=>{const v=n.utils.createSqlQuery(W(e,t),h.sqlInfo.sql).query(),_=Gi(h.sqlInfo.jsMap,h.sqlInfo.type).map(v);H(i,h.path,_)}),r.value){case"forward":Vi(i,o);break}return eo(i),i}function c(){a.updateInfos.forEach(h=>{const g=W(e,t);n.dataset.removeFilters(g,h.table)})}function l(h,g){return Hi(a,g,w=>ct(h,w),e,t,n)}function p(h){switch(r.value){case"forward":Ui(h);break;case"back":zi(h,o);break}}function d(h){o.setValue(h)}return{useOptions:u,addFilter:l,removeFilter:c,drillStartPos:p,setDataGroupValue:d,getValueFromParams:ct,hasClickInfo:s}}function no(e,t){const r=f.ref("none");let n=[];e.optionType==="dict"&&(n=e.chartInfos.map((p,d)=>ro(e,d,r,t)));const a=f.ref(0),i=f.computed(()=>a.value>0),o=f.computed(()=>a.value<n.length-1),s=f.computed(()=>n[a.value]);function u(p,d,h){s.value.hasClickInfo&&(r.value="forward",s.value.drillStartPos(p),a.value+=1,s.value.setDataGroupValue(h))}function c(p){r.value="back",s.value.drillStartPos(p),a.value-=1}function l(p,d){const h=p.getOption();h&&(h.series.forEach((g,v)=>{"universalTransition"in g&&"seriesKey"in g.universalTransition&&(g.universalTransition.seriesKey=d),delete g.dataGroupId}),p.setOption(h))}return{curController:s,next:u,canBack:i,canForward:o,back:c,setSeriesKeys:l}}function ao(e,t){const r=no(e,t);function n(){return f.computed(()=>r.curController.value.useOptions())}function a(){r.curController.value.removeFilter()}function i(o,s){return r.curController.value.addFilter(o,s)}return{getData:n,addFilter:i,removeFilter:a,chartController:r}}const io="sqlAnalyzeKey",oo="componentKey",so="datasetKey",uo="dbKey",co="utilsKey",fo=["data-tag"],lo={key:0,class:"debug-box"},po={key:0,rows:"25",cols:"50",readonly:""},ho=f.defineComponent({__name:"EChart",props:{model:null},setup(e){const t=e;f.useCssVars(_=>({"5e874013":f.unref(p)}));const r=f.inject(so),n=f.inject(io),a=f.inject(uo),i=f.inject(oo),o=f.inject(co),s=t.model,u=ao(s,{sqlAnalyze:n,dataset:r,db:a,utils:o}),c=u.getData(),l=f.ref(null);s.width;const p=s.height;let d=null;f.onMounted(()=>{if(d=pt.init(l.value,null,{renderer:i.getApp().echartsRenderer}),d===null)return;const _=d;f.watchEffect(()=>{u.chartController.setSeriesKeys(_,c.value.series.map(b=>b.id)),_.setOption(c.value,!0)}),_.on("mouseover","series",b=>{u.chartController.curController.value.hasClickInfo||u.addFilter(b,"hover")}),_.on("mouseout","series",b=>{u.chartController.curController.value.hasClickInfo||u.removeFilter()}),_.getZr().on("click",function(b){b.target||u.chartController.curController.value.hasClickInfo&&u.removeFilter()}),_.on("click","series",b=>{if(u.chartController.canForward.value){const q=u.addFilter(b,"click");u.chartController.next(_,b,q)}else u.addFilter(b,"click")}),vt("resize",()=>{_.resize()}),Tt(l,()=>{_.resize()}),f.onUnmounted(()=>{_.dispose()})});function h(){u.chartController.back(d),u.chartController.curController.value.removeFilter()}const g=s.debugTag!==null,v=f.ref(!1);function w(){v.value=!v.value}return(_,b)=>(f.openBlock(),f.createElementBlock("div",{class:"echart-box","data-tag":f.unref(s).tag},[f.withDirectives(f.createElementVNode("div",{class:"back",onClick:h},"上一级",512),[[f.vShow,f.unref(u).chartController.canBack.value]]),g?(f.openBlock(),f.createElementBlock("div",lo,[f.createElementVNode("button",{onClick:w},"options view open"),v.value?(f.openBlock(),f.createElementBlock("textarea",po,f.toDisplayString(f.unref(c)),1)):f.createCommentVNode("",!0)])):f.createCommentVNode("",!0),f.createElementVNode("div",{class:"echart",ref_key:"chartDiv",ref:l},null,512)],8,fo))}}),yo="";return[{tag:"EChart",cp:((e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r})(ho,[["__scopeId","data-v-c712fbd4"]])}]}(Vue,echarts);
