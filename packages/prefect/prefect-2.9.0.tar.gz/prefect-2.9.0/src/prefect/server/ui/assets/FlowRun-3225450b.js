import{a as M,r as $,M as D,c as u,n as L,k as P,$ as A,X as B,_ as N,a0 as U,a1 as V,b as l,w as o,e as p,A as X,o as a,u as e,a2 as j,h as n,a3 as i,a4 as z,l as _,a5 as G,a6 as O,a7 as W,a8 as Z,a9 as q,W as E}from"./index-46ac39cf.js";import{u as H}from"./usePageTitle-c7478bfe.js";const Y=M({__name:"FlowRun",setup(J){const m=X(),c=$("Logs"),f=D("flowRunId"),y=u(()=>{const s=["Logs","Task Runs","Results","Subflow Runs","Parameters"];return L.xl||s.push("Details"),s}),k=P(),v=A(k.flowRuns.getFlowRun,[f],{interval:5e3}),t=u(()=>v.response),R=u(()=>{var s;return(s=t.value)==null?void 0:s.deploymentId}),{deployment:w}=B(R);N(f,(s,r)=>{s!==r&&(c.value="Logs")});const g=u(()=>{var s;return((s=t.value)==null?void 0:s.parameters)??{}}),h=u(()=>{var s;return((s=w.value)==null?void 0:s.parameterOpenApiSchema)??{}}),d=u(()=>U(g.value,h.value));function b(){m.push(E.flowRuns())}const x=u(()=>{var s;return(s=t.value)==null?void 0:s.stateType});V(x);const F=u(()=>t.value?`Flow Run: ${t.value.name}`:"Flow Run");return H(F),(s,r)=>{const T=p("p-code-highlight"),S=p("p-tabs"),C=p("p-layout-well");return a(),l(C,{class:"flow-run"},{header:o(()=>[e(t)?(a(),l(e(j),{key:0,"flow-run-id":e(t).id,onDelete:b},null,8,["flow-run-id"])):n("",!0)]),well:o(()=>[e(t)?(a(),l(e(i),{key:0,"flow-run":e(t),alternate:""},null,8,["flow-run"])):n("",!0)]),default:o(()=>[e(t)?(a(),l(e(z),{key:0,"flow-run":e(t)},null,8,["flow-run"])):n("",!0),_(S,{selected:c.value,"onUpdate:selected":r[0]||(r[0]=I=>c.value=I),tabs:e(y)},{details:o(()=>[e(t)?(a(),l(e(i),{key:0,"flow-run":e(t)},null,8,["flow-run"])):n("",!0)]),logs:o(()=>[e(t)?(a(),l(e(G),{key:0,"flow-run":e(t)},null,8,["flow-run"])):n("",!0)]),results:o(()=>[e(t)?(a(),l(e(O),{key:0,"flow-run":e(t)},null,8,["flow-run"])):n("",!0)]),"task-runs":o(()=>[e(t)?(a(),l(e(W),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):n("",!0)]),"subflow-runs":o(()=>[e(t)?(a(),l(e(Z),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):n("",!0)]),parameters:o(()=>[e(w)?(a(),l(e(q),{key:0,"text-to-copy":e(d)},{default:o(()=>[_(T,{lang:"json",text:e(d),class:"flow-run__parameters"},null,8,["text"])]),_:1},8,["text-to-copy"])):n("",!0)]),_:1},8,["selected","tabs"])]),_:1})}}});export{Y as default};
