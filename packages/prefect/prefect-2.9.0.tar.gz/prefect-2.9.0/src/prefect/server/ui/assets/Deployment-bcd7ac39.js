import{a as B,M as C,c as r,k as I,$ as M,n as N,B as P,ak as $,_ as j,b as s,w as o,e as u,A as Q,o as a,u as e,as as R,h as i,at as y,l as p,au as V,av as W,aw as q,ax as A,a9 as F,ap as J,W as X,S as z}from"./index-46ac39cf.js";import{u as E}from"./useToast-7a0373cc.js";import{u as G}from"./usePageTitle-c7478bfe.js";const Z=B({__name:"Deployment",setup(H){const c=C("deploymentId"),_=r(()=>[c.value]),f=Q(),v=I(),h=E(),k={interval:3e5},d=M(v.deployments.getDeployment,[c.value],k),t=r(()=>d.response),b=r(()=>{var n,l;return[{label:"Details",hidden:N.xl},{label:"Runs"},{label:"Parameters",hidden:(n=t.value)==null?void 0:n.deprecated},{label:"Infra Overrides",hidden:(l=t.value)==null?void 0:l.deprecated},{label:"Description"}]}),{tabs:g}=P(b);function w(){f.push(X.deployments())}const m=r(()=>{var n;return(n=t.value)!=null&&n.infrastructureOverrides?JSON.stringify(t.value.infrastructureOverrides,void 0,2):"{}"}),{filter:x}=$({deployments:{id:_}}),D=r(()=>t.value?`Deployment: ${t.value.name}`:"Deployment");return G(D),j(t,()=>{var n,l;!((n=t.value)!=null&&n.workQueueName)&&!((l=t.value)!=null&&l.deprecated)&&h(z.info.deploymentMissingWorkQueue,"default",{timeout:!1})}),(n,l)=>{const U=u("p-content"),O=u("p-code-highlight"),S=u("p-tabs"),T=u("p-layout-well");return a(),s(T,{class:"deployment"},{header:o(()=>[e(t)?(a(),s(e(R),{key:0,deployment:e(t),onUpdate:e(d).refresh,onDelete:w},null,8,["deployment","onUpdate"])):i("",!0)]),well:o(()=>[e(t)?(a(),s(e(y),{key:0,deployment:e(t),alternate:"",onUpdate:e(d).refresh},null,8,["deployment","onUpdate"])):i("",!0)]),default:o(()=>[e(t)?(a(),s(S,{key:0,tabs:e(g)},{description:o(()=>[p(U,{secondary:""},{default:o(()=>[e(t).deprecated?(a(),s(e(V),{key:0})):e(t).description?(a(),s(e(W),{key:1,description:e(t).description},null,8,["description"])):(a(),s(e(q),{key:2,deployment:e(t)},null,8,["deployment"]))]),_:1})]),parameters:o(()=>[p(e(A),{deployment:e(t)},null,8,["deployment"])]),"infra-overrides":o(()=>[e(t)?(a(),s(e(F),{key:0,"text-to-copy":e(m)},{default:o(()=>[p(O,{lang:"json",text:e(m),class:"deployment__infra-overrides"},null,8,["text"])]),_:1},8,["text-to-copy"])):i("",!0)]),details:o(()=>[p(e(y),{deployment:e(t),onUpdate:e(d).refresh},null,8,["deployment","onUpdate"])]),runs:o(()=>[p(e(J),{"flow-run-filter":e(x)},null,8,["flow-run-filter"])]),_:1},8,["tabs"])):i("",!0)]),_:1})}}});export{Z as default};
