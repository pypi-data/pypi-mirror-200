import{a as A,M as C,k as N,c as n,n as V,ac as p,a1 as F,u as t,b as k,w as a,h as _,e as l,A as M,o as d,l as u,ad as B,ae as f,V as $,q as R,af as j,t as q,S as E,ag as J,a9 as L,W as O}from"./index-46ac39cf.js";import{u as P}from"./usePageTitle-c7478bfe.js";const z=A({__name:"TaskRun",setup(Q){const g=M(),r=C("taskRunId"),c=N(),v=n(()=>{const e=["Logs","Task Inputs"];return V.xl||e.push("Details"),e}),m=n(()=>r.value?[r.value]:null),T=p(c.taskRuns.getTaskRun,m,{interval:3e4}),s=n(()=>T.response),o=n(()=>{var e;return(e=s.value)==null?void 0:e.flowRunId}),h=n(()=>o.value?[o.value]:null),w=p(c.flowRuns.getFlowRun,h),i=n(()=>{var e;return(e=s.value)!=null&&e.taskInputs?JSON.stringify(s.value.taskInputs,void 0,2):"{}"});function y(){w.refresh(),g.push(O.flowRun(o.value))}const I=n(()=>{var e;return(e=s.value)==null?void 0:e.stateType});F(I);const x=n(()=>s.value?`Task Run: ${s.value.name}`:"Task Run");return P(x),(e,W)=>{const b=l("p-code-highlight"),S=l("p-tabs"),D=l("p-layout-well");return t(s)?(d(),k(D,{key:0,class:"task-run"},{header:a(()=>[u(t(B),{"task-run-id":t(s).id,onDelete:y},null,8,["task-run-id"])]),well:a(()=>[u(t(f),{alternate:"","task-run":t(s)},null,8,["task-run"])]),default:a(()=>[u(S,{tabs:t(v)},$({details:a(()=>[u(t(f),{"task-run":t(s)},null,8,["task-run"])]),logs:a(()=>[u(t(J),{"task-run":t(s)},null,8,["task-run"])]),"task-inputs":a(()=>[t(s)?(d(),k(t(L),{key:0,"text-to-copy":t(i)},{default:a(()=>[u(b,{lang:"json",text:t(i),class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):_("",!0)]),_:2},[t(s)?{name:"task-inputs-heading",fn:a(()=>[R(" Task inputs "),u(t(j),{title:"Task Inputs"},{default:a(()=>[R(q(t(E).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):_("",!0)}}});export{z as default};
